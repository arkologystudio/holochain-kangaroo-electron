import{r as t,h as o,H as n,e as i}from"./p-4f4b7319.js";import{e,k as s,l as a,m as r,t as c}from"./p-510302c3.js";import{n as d}from"./p-4111ce9d.js";import{c as h,g as l}from"./p-18d3a1c6.js";const f=":host{display:block;position:relative;width:100%;background-color:var(--ion-background-color, #ffffff);overflow:hidden;z-index:0}:host(.accordion-expanding) ::slotted(ion-item[slot=header]),:host(.accordion-expanded) ::slotted(ion-item[slot=header]){--border-width:0px}:host(.accordion-animated){transition:all 300ms cubic-bezier(0.25, 0.8, 0.5, 1)}:host(.accordion-animated) #content{transition:max-height 300ms cubic-bezier(0.25, 0.8, 0.5, 1)}#content{overflow:hidden;will-change:max-height}:host(.accordion-collapsing) #content{max-height:0 !important}:host(.accordion-collapsed) #content{display:none}:host(.accordion-expanding) #content{max-height:0}:host(.accordion-expanding) #content-wrapper{overflow:auto}:host(.accordion-disabled) #header,:host(.accordion-readonly) #header,:host(.accordion-disabled) #content,:host(.accordion-readonly) #content{pointer-events:none}:host(.accordion-disabled) #header,:host(.accordion-disabled) #content{opacity:0.4}@media (prefers-reduced-motion: reduce){:host,#content{transition:none !important}}:host(.accordion-next) ::slotted(ion-item[slot=header]){--border-width:0.55px 0px 0.55px 0px}";const u=":host{display:block;position:relative;width:100%;background-color:var(--ion-background-color, #ffffff);overflow:hidden;z-index:0}:host(.accordion-expanding) ::slotted(ion-item[slot=header]),:host(.accordion-expanded) ::slotted(ion-item[slot=header]){--border-width:0px}:host(.accordion-animated){transition:all 300ms cubic-bezier(0.25, 0.8, 0.5, 1)}:host(.accordion-animated) #content{transition:max-height 300ms cubic-bezier(0.25, 0.8, 0.5, 1)}#content{overflow:hidden;will-change:max-height}:host(.accordion-collapsing) #content{max-height:0 !important}:host(.accordion-collapsed) #content{display:none}:host(.accordion-expanding) #content{max-height:0}:host(.accordion-expanding) #content-wrapper{overflow:auto}:host(.accordion-disabled) #header,:host(.accordion-readonly) #header,:host(.accordion-disabled) #content,:host(.accordion-readonly) #content{pointer-events:none}:host(.accordion-disabled) #header,:host(.accordion-disabled) #content{opacity:0.4}@media (prefers-reduced-motion: reduce){:host,#content{transition:none !important}}";const p=class{constructor(o){t(this,o);this.updateListener=()=>this.updateState(false);this.setItemDefaults=()=>{const t=this.getSlottedHeaderIonItem();if(!t){return}t.button=true;t.detail=false;if(t.lines===undefined){t.lines="full"}};this.getSlottedHeaderIonItem=()=>{const{headerEl:t}=this;if(!t){return}const o=t.querySelector("slot");if(!o){return}if(o.assignedElements===undefined)return;return o.assignedElements().find((t=>t.tagName==="ION-ITEM"))};this.setAria=(t=false)=>{const o=this.getSlottedHeaderIonItem();if(!o){return}const n=r(o);const i=n.querySelector("button");if(!i){return}i.setAttribute("aria-expanded",`${t}`)};this.slotToggleIcon=()=>{const t=this.getSlottedHeaderIonItem();if(!t){return}const{toggleIconSlot:o,toggleIcon:n}=this;const i=t.querySelector(".ion-accordion-toggle-icon");if(i){return}const e=document.createElement("ion-icon");e.slot=o;e.lazy=false;e.classList.add("ion-accordion-toggle-icon");e.icon=n;e.setAttribute("aria-hidden","true");t.appendChild(e)};this.expandAccordion=(t=false)=>{const{contentEl:o,contentElWrapper:n}=this;if(t||o===undefined||n===undefined){this.state=4;return}if(this.state===4){return}if(this.currentRaf!==undefined){cancelAnimationFrame(this.currentRaf)}if(this.shouldAnimate()){e((()=>{this.state=8;this.currentRaf=e((async()=>{const t=n.offsetHeight;const i=c(o,2e3);o.style.setProperty("max-height",`${t}px`);await i;this.state=4;o.style.removeProperty("max-height")}))}))}else{this.state=4}};this.collapseAccordion=(t=false)=>{const{contentEl:o}=this;if(t||o===undefined){this.state=1;return}if(this.state===1){return}if(this.currentRaf!==undefined){cancelAnimationFrame(this.currentRaf)}if(this.shouldAnimate()){this.currentRaf=e((async()=>{const t=o.offsetHeight;o.style.setProperty("max-height",`${t}px`);e((async()=>{const t=c(o,2e3);this.state=2;await t;this.state=1;o.style.removeProperty("max-height")}))}))}else{this.state=1}};this.shouldAnimate=()=>{if(typeof window==="undefined"){return false}const t=matchMedia("(prefers-reduced-motion: reduce)").matches;if(t){return false}const o=h.get("animated",true);if(!o){return false}if(this.accordionGroupEl&&!this.accordionGroupEl.animated){return false}return true};this.updateState=async(t=false)=>{const o=this.accordionGroupEl;const n=this.value;if(!o){return}const i=o.value;const e=Array.isArray(i)?i.includes(n):i===n;if(e){this.expandAccordion(t);this.isNext=this.isPrevious=false}else{this.collapseAccordion(t);const o=this.getNextSibling();const n=o===null||o===void 0?void 0:o.value;if(n!==undefined){this.isPrevious=Array.isArray(i)?i.includes(n):i===n}const e=this.getPreviousSibling();const s=e===null||e===void 0?void 0:e.value;if(s!==undefined){this.isNext=Array.isArray(i)?i.includes(s):i===s}}};this.getNextSibling=()=>{if(!this.el){return}const t=this.el.nextElementSibling;if((t===null||t===void 0?void 0:t.tagName)!=="ION-ACCORDION"){return}return t};this.getPreviousSibling=()=>{if(!this.el){return}const t=this.el.previousElementSibling;if((t===null||t===void 0?void 0:t.tagName)!=="ION-ACCORDION"){return}return t};this.state=1;this.isNext=false;this.isPrevious=false;this.value=`ion-accordion-${m++}`;this.disabled=false;this.readonly=false;this.toggleIcon=d;this.toggleIconSlot="end"}valueChanged(){this.updateState()}connectedCallback(){var t;const o=this.accordionGroupEl=(t=this.el)===null||t===void 0?void 0:t.closest("ion-accordion-group");if(o){this.updateState(true);s(o,"ionValueChange",this.updateListener)}}disconnectedCallback(){const t=this.accordionGroupEl;if(t){a(t,"ionValueChange",this.updateListener)}}componentDidLoad(){this.setItemDefaults();this.slotToggleIcon();e((()=>{const t=this.state===4||this.state===8;this.setAria(t)}))}toggleExpanded(){const{accordionGroupEl:t,value:o,state:n}=this;if(t){const i=n===1||n===2;t.requestAccordionToggle(o,i)}}render(){const{disabled:t,readonly:i}=this;const e=l(this);const s=this.state===4||this.state===8;const a=s?"header expanded":"header";const r=s?"content expanded":"content";this.setAria(s);return o(n,{class:{[e]:true,"accordion-expanding":this.state===8,"accordion-expanded":this.state===4,"accordion-collapsing":this.state===2,"accordion-collapsed":this.state===1,"accordion-next":this.isNext,"accordion-previous":this.isPrevious,"accordion-disabled":t,"accordion-readonly":i,"accordion-animated":this.shouldAnimate()}},o("div",{onClick:()=>this.toggleExpanded(),id:"header",part:a,"aria-controls":"content",ref:t=>this.headerEl=t},o("slot",{name:"header"})),o("div",{id:"content",part:r,role:"region","aria-labelledby":"header",ref:t=>this.contentEl=t},o("div",{id:"content-wrapper",ref:t=>this.contentElWrapper=t},o("slot",{name:"content"}))))}static get delegatesFocus(){return true}get el(){return i(this)}static get watchers(){return{value:["valueChanged"]}}};let m=0;p.style={ios:f,md:u};export{p as ion_accordion};
//# sourceMappingURL=p-6bb05022.entry.js.map